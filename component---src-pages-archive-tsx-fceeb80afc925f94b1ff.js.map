{"version":3,"sources":["webpack:///./src/components/archiveLayout.tsx","webpack:///./src/components/pageLayout.tsx","webpack:///./src/pages/archive.tsx"],"names":["ArchiveLayout","title","posts","data","allMdx","edges","postsGroupedByYear","reduce","reduced","node","frontmatter","year","Date","date","getFullYear","toString","push","Object","entries","reverse","map","index","posts2","Fragment","key","mdx","index2","Utils","SafeMetadataFromMdx","dateFormatted","url","className","to","displayName","PageLayout","children","type","role","id","ArchivePage","pageQuery"],"mappings":"6MAgBMA,EAA6D,SAAC,GAAoB,IAAlBC,EAAkB,EAAlBA,MAC9DC,EADgF,EAAXC,KACxDC,OAAOC,MAE1B,IAAKH,EAAO,OAAO,KAEnB,IAAMI,EAAqBJ,EAAMK,QAA0B,SAACC,EAAD,GAAuB,IAAXC,EAAW,EAAXA,KAC7DC,EAAgBD,EAAhBC,YAER,GAAIA,EAAa,CACf,IAAMC,EAAO,IAAIC,KAAKF,EAAYG,MAAMC,cAAcC,WAEjDP,EAAQG,KACXH,EAAQG,GAAQ,IAGlBH,EAAQG,GAAMK,KAAKP,GAGrB,OAAOD,IACN,IAEH,OACE,kBAAC,IAAD,CAAYP,MAAOA,GAChBgB,OAAOC,QAAQZ,GACba,UACAC,KAAI,WAAiBC,GAAjB,IAAEV,EAAF,KAAQW,EAAR,YACH,kBAAC,IAAMC,SAAP,CAAgBC,IAAKH,GACnB,4BAAKV,GACL,4BACGW,EAAOF,KAAI,SAACK,EAAKC,GAAW,MACWC,IAAMC,oBAAoBH,GAAxDxB,EADmB,EACnBA,MAAO4B,EADY,EACZA,cAAeC,EADH,EACGA,IAE9B,OACE,wBAAIN,IAAKE,GACP,wBAAIK,UAAU,cACZ,kBAAC,IAAD,CAAMC,GAAIF,GACP7B,EADH,IACU,+BAAQ4B,gBAaxC7B,EAAciC,YAAc,gBAEbjC,O,kCCnEf,qCASMkC,EAAuD,SAAC,GAAD,IAAGjC,EAAH,EAAGA,MAAOkC,EAAV,EAAUA,SAAV,OAC3D,oCACE,kBAAC,IAAD,CAAMC,KAAK,OAAOnC,MAAOA,IAEzB,0BAAMoC,KAAK,OAAOC,GAAG,QACnB,6BAASP,UAAU,QACjB,4BAAQA,UAAU,eAChB,wBAAIA,UAAU,cAAc9B,IAG9B,yBAAK8B,UAAU,gBAAgBI,OAMvCD,EAAWD,YAAc,aAEVC,O,kCC3Bf,sFAUMK,EAAyD,SAAC,GAAD,IAAGpC,EAAH,EAAGA,KAAH,OAAc,kBAAC,IAAD,CAAeF,MAAM,UAAUE,KAAMA,KAErGqC,EAAY,aAYzBD,EAAYN,YAAc,cAEXM","file":"component---src-pages-archive-tsx-fceeb80afc925f94b1ff.js","sourcesContent":["import React from 'react';\n\nimport PageLayout from './pageLayout';\nimport Link from './link';\nimport { Utils, GraphQl } from '../utils';\n\ntype PostsGroupedByKey = {\n  [key: string]: GraphQl.PostMdxFragment[];\n};\n\ntype ArchiveLayoutProps = {\n  title: string;\n  data: GraphQl.ArchivePageQuery | GraphQl.CategoryArchiveLayoutQuery | GraphQl.TagArchiveLayoutQuery;\n  children?: never;\n};\n\nconst ArchiveLayout: React.FunctionComponent<ArchiveLayoutProps> = ({ title, data }) => {\n  const posts = data.allMdx.edges;\n\n  if (!posts) return null;\n\n  const postsGroupedByYear = posts.reduce<PostsGroupedByKey>((reduced, { node }) => {\n    const { frontmatter } = node;\n\n    if (frontmatter) {\n      const year = new Date(frontmatter.date).getFullYear().toString();\n\n      if (!reduced[year]) {\n        reduced[year] = [];\n      }\n\n      reduced[year].push(node);\n    }\n\n    return reduced;\n  }, {});\n\n  return (\n    <PageLayout title={title}>\n      {Object.entries(postsGroupedByYear)\n        .reverse()\n        .map(([year, posts2], index) => (\n          <React.Fragment key={index}>\n            <h2>{year}</h2>\n            <ul>\n              {posts2.map((mdx, index2) => {\n                const { title, dateFormatted, url } = Utils.SafeMetadataFromMdx(mdx);\n\n                return (\n                  <li key={index2}>\n                    <h3 className=\"post-entry\">\n                      <Link to={url}>\n                        {title} <small>{dateFormatted}</small>\n                      </Link>\n                    </h3>\n                  </li>\n                );\n              })}\n            </ul>\n          </React.Fragment>\n        ))}\n    </PageLayout>\n  );\n};\n\nArchiveLayout.displayName = 'ArchiveLayout';\n\nexport default ArchiveLayout;\n","import React from 'react';\n\nimport Head from './head';\n\ntype PageLayoutProps = {\n  title: string;\n  children: React.ReactNode;\n};\n\nconst PageLayout: React.FunctionComponent<PageLayoutProps> = ({ title, children }) => (\n  <>\n    <Head type=\"page\" title={title} />\n\n    <main role=\"main\" id=\"main\">\n      <article className=\"page\">\n        <header className=\"page-header\">\n          <h1 className=\"page-title\">{title}</h1>\n        </header>\n\n        <div className=\"page-content\">{children}</div>\n      </article>\n    </main>\n  </>\n);\n\nPageLayout.displayName = 'PageLayout';\n\nexport default PageLayout;\n","import React from 'react';\nimport { graphql } from 'gatsby';\n\nimport ArchiveLayout from '../components/archiveLayout';\nimport { GraphQl } from '../utils';\n\ntype ArchivePageProps = {\n  data: GraphQl.ArchivePageQuery;\n};\n\nconst ArchivePage: React.FunctionComponent<ArchivePageProps> = ({ data }) => <ArchiveLayout title=\"Archive\" data={data} />;\n\nexport const pageQuery = graphql`\n  query ArchivePage {\n    allMdx(filter: { fields: { slug: { ne: null } } }, sort: { order: DESC, fields: [frontmatter___date] }) {\n      edges {\n        node {\n          ...PostMdx\n        }\n      }\n    }\n  }\n`;\n\nArchivePage.displayName = 'ArchivePage';\n\nexport default ArchivePage;\n"],"sourceRoot":""}